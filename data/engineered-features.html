

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Engineered Features &#8212; CaloRICH AI</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quantecon-book-theme.71f4fe54c3b4f7788d9441ebe1e0b865.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />


    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/quantecon-book-theme.ef2ef6c3e8da75e1e736fb5fce08cde6.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data/engineered-features';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Regressor" href="../data-science-methods/regressor/index.html" />
    <link rel="prev" title="Preprocessing" href="preprocessing.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Crystal Geng, Daniel Merigo, Kelvin Wong, Peng Zhang" />
<meta name="keywords" content="calorich, triumf, na62" />
<meta name="description" content="Engineered Features  The raw data only comprises of the coordinates of the hit positions for each event, which represent the recorded positions on a grid of PMT" />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Engineered Features"/>
<meta name="twitter:description" content="Engineered Features  The raw data only comprises of the coordinates of the hit positions for each event, which represent the recorded positions on a grid of PMT">
<meta name="twitter:image" content="">

<!-- Opengraph tags -->
<meta property="og:title" content="Engineered Features" />
<meta property="og:type" content="website" />
<meta property="og:url" content="None" />
<meta property="og:image" content="" />
<meta property="og:description" content="Engineered Features  The raw data only comprises of the coordinates of the hit positions for each event, which represent the recorded positions on a grid of PMT" />
<meta property="og:site_name" content="CaloRICH AI" />

<link rel="icon" href="../_static/favicon.svg" type="image/svg+xml" />
<link rel="apple-touch-icon" href="../_static/apple-touch-icon.png" />

<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=data/engineered-features>

                <div class="qe-page__toc">

                    <div class="inner">

                        


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            
                            <p class="logo">
                                
                            </p>
                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="../index.html">CaloRICH AI</a></p>

                        <p class="qe-page__header-subheading">Engineered Features</p>

                    </div>

                    <p class="qe-page__header-authors">Crystal Geng, Daniel Merigo, Kelvin Wong, Peng Zhang</p>

                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <section id="engineered-features">
<h1>Engineered Features<a class="headerlink" href="#engineered-features" title="Permalink to this headline">#</a></h1>
<p>The raw data only comprises of the coordinates of the hit positions for each event, which represent the recorded positions on a grid of PMTs relative to the coordinates of the grid. These positions correspond to the detection of light photons by photomultiplier tube (“PMT”) tubes.</p>
<p>To enable better model fitting, we have a number of engineered features that aims to extract more meaningful information from the hit positions. In our analyses,  we use these 18 engineered features based on these positions:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">total_in_time_hits</span></code>: total number of in-time hits in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_aligned_min</span></code>: minimum hit position realigned by subtracting track position x in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_aligned_max</span></code>: maximum hit position realigned by subtracting track position x in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y_aligned_min</span></code>: minimum hit position realigned by subtracting track position y in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y_aligned_max</span></code>: maximum hit position realigned by subtracting track position y in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_aligned_width</span></code>: maximum hit position x minus minimum hit position x in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y_aligned_witdh</span></code>: maximum hit position y minus minimum hit position y in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_min</span></code>: minimum distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_max</span></code>: maximum distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_mean</span></code>: mean distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_median</span></code>: median distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_q25</span></code>: 25% percentile distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_q75</span></code>: 75% percentile distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hit_distance_rms</span></code>: root mean squared distance between hit position and track position in each event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hull_area</span></code>: hull area of the convex hull</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hull_diameter</span></code>: the longest line among all the points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hull_diff_width_diameter</span></code>: the absolute difference between hull_diameter and hull_width</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hull_width</span></code>: closest distance of the parallel lines that encloses all points</p></li>
</ol>
<p>There are also a number of features related to fitted radius that are not used in the final analyses. These can be found here:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_lsq</span></code>: radius fit using a “standard” version of least square circle fit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_lsq_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_lsq</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_lsq_hyper</span></code>: radius fit using a “hyperaccuracy” version of least square circle fit <span id="id1">[<a class="reference internal" href="../references.html#id6" title="Kenichi Kanatani and Prasanna Rangarajan. Hyper least squares fitting of circles and ellipses. Computational Statistics &amp; Data Analysis, 55(6):2197-2208, 2011. URL: https://www.sciencedirect.com/science/article/pii/S0167947310004809, doi:https://doi.org/10.1016/j.csda.2010.12.012.">Kanatani and Rangarajan, 2011</a>]</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_lsq_hyper_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_lsq_hyper</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_riemann_swfla</span></code>: radius fit using Riemann circle fit, SWFL version A <span id="id2">[<a class="reference internal" href="../references.html#id16" title="A. Strandlie, J. Wroldsen, R. Frühwirth, and B. Lillekjendlie. Particle tracks fitted on the riemann sphere. Computer Physics Communications, 131(1):95-108, 2000. URL: https://www.sciencedirect.com/science/article/pii/S0010465500000862, doi:https://doi.org/10.1016/S0010-4655(00)00086-2.">Strandlie <em>et al.</em>, 2000</a>]</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_riemann_swfla_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_riemann_swfla</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_pratt</span></code>: radius fit using Pratt’s algebraic circle fit <span id="id3">[<a class="reference internal" href="../references.html#id13" title="Vaughan Pratt. Direct least-squares fitting of algebraic surfaces. Computer Graphics (Proc. SIGGRAPH 87), 21:, 02 2002. doi:10.1145/37402.37420.">Pratt, 2002</a>]</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_pratt_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_svd_pratt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_taubin</span></code>: radius fit using Taubin’s algebraic circle fit <span id="id4">[<a class="reference internal" href="../references.html#id18" title="Gabriel Taubin. Estimation of planar curves, surfaces, and nonplanar space curves defined by implicit equations with applications to edge and range image segmentation. Pattern Analysis and Machine Intelligence, IEEE Transactions on, 13:1115-1138, 12 1991. doi:10.1109/34.103273.">Taubin, 1991</a>]</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_taubin_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_svd_taubin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_hyper</span></code>: radius fit using algebraic circle fit with “hyperaccuracy” by <a class="reference external" href="https://people.cas.uab.edu/~mosya/cl/HyperSVD.m">Chernov</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_svd_hyper_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_svd_hyper</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_kmh</span></code>: radius fit using a consistent circle fit by Kukush, Markovsky and van Huffel <span id="id5">[<a class="reference internal" href="../references.html#id10" title="Ivan Markovsky, Alexander Kukush, and Sabine Huffel. Consistent least squares fitting of ellipsoids. Numerische Mathematik, 98:, 07 2004. doi:10.1007/s00211-004-0526-9.">Markovsky <em>et al.</em>, 2004</a>]</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_fit_kmh_err</span></code>: residual/error from the fitted radius from <code class="docutils literal notranslate"><span class="pre">radius_fit_kmh</span></code></p></li>
</ol>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./data"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p>Copyright &copy; 2023 Crystal Geng, Daniel Merigo, Kelvin Wong, Peng Zhang</p>

                    <p><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="https://licensebuttons.net/l/by-nc-nd/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under the <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International</a> license.</p>

                    <p>Powered by <a href="https://jupyterbook.org/" target="_blank" rel="noreferer nofollow">Jupyter Book</a>. Theme forked from <a href="https://github.com/QuantEcon/quantecon-book-theme" target="_blank" rel="noreferer nofollow">quantecon-book-theme</a>.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive persistent" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Preface
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../preface/executive_summary.html">
   Executive Summary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../preface/introduction.html">
   Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="raw-data.html">
   Raw Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eda.html">
   Exploratory Data Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="preprocessing.html">
   Preprocessing
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   Engineered Features
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data Science Methods
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data-science-methods/regressor/index.html">
   Regressor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-1">
   <i class="fa-solid fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data-science-methods/regressor/xgbregressor.html">
     XGBoost Regressor
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data-science-methods/neural-networks/index.html">
   Neural Networks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-2">
   <i class="fa-solid fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data-science-methods/neural-networks/mlp.html">
     MLP (Multilayer Perceptron)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data-science-methods/neural-networks/mlp-quantile.html">
     MLP Quantile Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data-science-methods/neural-networks/pointnet.html">
     PointNet
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-science-methods/best-performing-model/index.html">
   Best Performing Model
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Conclusion
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../conclusion.html">
   Conclusion
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  References
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="../index.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://triumf-mds-capstone2023.github.io/project" title=""><span class="show-for-sr">CaloRICH AI</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="../search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/TRIUMF-MDS-Capstone2023/project/blob/main/docs/final/website/data/engineered-features.md" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>

    </div> <!-- .wrapper-->
  </body>
</html>